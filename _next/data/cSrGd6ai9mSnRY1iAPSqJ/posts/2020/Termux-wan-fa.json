{"pageProps":{"id":["2020","Termux-wan-fa"],"name":"Termux玩法","data":{"date":"2020-10-19","update":"2020-10-19","weather":"晴","body":"记录一下 Termux 的玩法\n\n### 开启访问本地存储权限\n\n[官方文档](https://wiki.termux.com/wiki/Termux-setup-storage)  \n在终端输入 `termux-setup-storage`，手机界面会弹出 Termux 获取存储权限的请求，允许即可。  \n此时`cd ~; ls`，会发现在家目录存在一个 storage 目录，进入 storage 目录，shared 为内部存储软链。  \n也可使用`cd /sdcard`进入内部存储，与`cd ~/storage/shared`相同。  \n![image.png](https://upload-images.jianshu.io/upload_images/864719-0f38b7a8948948c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n如果有外置存储，如存储卡，先`cd /storage; ls`，列出的几个目录中如`0853-777D`是外置存储的目录，再`cd 0853-777D`即可  \n ![image.png](https://upload-images.jianshu.io/upload_images/864719-7925eb5319088963.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n### 更换国内源\n\nTermux 官方源较慢或不稳定，可更换为国内[清华源](https://mirrors.tuna.tsinghua.edu.cn/help/termux/)，更新频率和下载速度较快  \n终端输入\n\n```bash\nsed -i 's@^\\(deb.*stable main\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main@' $PREFIX/etc/apt/sources.list\nsed -i 's@^\\(deb.*games stable\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable@' $PREFIX/etc/apt/sources.list.d/game.list\nsed -i 's@^\\(deb.*science stable\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable@' $PREFIX/etc/apt/sources.list.d/science.list\napt update && apt upgrade\n```\n\n### PC 端使用 ssh 连接到 Termux\n\nTermux 最新版默认安装了 ssh  \n首先确保 Termux 端和 PC 端在同一 Wi-Fi 环境下，或 PC 端连接在 Termux 端开启的热点下\n\n1. 在 PC 端生成 ssh key（如果本地已生成跳到下一步），参考这篇[文档](https://docs.github.com/cn/free-pro-team@latest/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)\n2. PC 端 ssh key 生成在 `~/.ssh`目录，想办法将目录中`id_rsa.pub`里的内容拷贝到 Termux 端`~/.ssh/authorized_keys`中（如果 Termux 中没有`.ssh`目录，则使用第一步的方法在 Termux 中生成 ssh 信息）\n3. 在 Termux 终端输入`whoami`确认用户名  \n   ![image.png](https://upload-images.jianshu.io/upload_images/864719-735e1e34555c474a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n4. 在 Termux 终端输入`ifconfig`确认 ip 地址\n5. ![image.png](https://upload-images.jianshu.io/upload_images/864719-446abf93e2e14ca9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n6. 在 Termux 终端输入`sshd`启用 ssh 服务\n7. Termux 的默认端口为 8022，在 PC 终端输入以下命令连接  \n   `ssh u0_a386@192.168.2.39 -p 8022`\n8. 以后重复 6、7 步骤即可\n\n### 传输文件，或在 PC 端浏览移动端图片、视频等文件\n\n实际是在 Termux 端搭建一个 http 服务器\n\n1. 安装 nodejs，在 Termux 端输入`apt install nodejs`\n2. 下载开箱即用的 nodejs http 服务器，在 Termux 端输入`npm install -g http-server`\n3. 开启 http server，在 Termux 端输入\n\n```\n http-server\n```\n\n![image.png](https://upload-images.jianshu.io/upload_images/864719-3c619cbb5c2af4d5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n4. 对于外置存储，在 Termux 端输入，如\n\n```\nhttp-server /storage/0853-777D/DCIM/Camera/\n```\n\n![image.png](https://upload-images.jianshu.io/upload_images/864719-1539f5b9d1686dad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)  \n其它玩法请看`http-server`[文档](https://github.com/http-party/http-server#readme)"},"allPosts":[{"date":"2021","list":[{"name":"绩效约谈后有感","date":"2021-02-24","path":"ji-xiao-yue-tan-hou-you-gan","groupDate":"2021"},{"name":"面对人生选择","date":"2021-02-20","path":"mian-dui-ren-sheng-xuan-ze","groupDate":"2021"},{"name":"我的生日","date":"2021-01-27","path":"wo-de-sheng-ri","groupDate":"2021"},{"name":"2021年初的一点思考","date":"2021-01-20","path":"2021-nian-chu-de-yi-dian-si-kao","groupDate":"2021"}]},{"date":"2020","list":[{"name":"win10下使用wls2和vscode配置超级舒服的开发环境 ","date":"2020-11-29","path":"win10-xia-shi-yong-wls2-he-vscode-pei-zhi-chao-ji-shu-fu-de-kai-fa-huan-jing","groupDate":"2020"},{"name":"Termux玩法","date":"2020-10-19","path":"Termux-wan-fa","groupDate":"2020"},{"name":"nextjs-with-styled-components-fluent-ui","date":"2020-09-03","path":"nextjs-with-styled-components-fluent-ui","groupDate":"2020"},{"name":"脂肪肝","date":"2020-08-30","path":"zhi-fang-gan","groupDate":"2020"}]},{"date":"2018","list":[{"name":"两个口袋","date":"2018-05-06","path":"liang-ge-kou-dai","groupDate":"2018"}]},{"date":"2017","list":[{"name":"JavaScript50行代码暴力生成9x9数独","date":"2017-10-12","path":"JavaScript50-hang-dai-ma-bao-li-sheng-cheng-9x9-shu-du","groupDate":"2017"},{"name":"域名解析小记","date":"2017-09-23","path":"yu-ming-jie-xi-xiao-ji","groupDate":"2017"},{"name":"nginx作用","date":"2017-09-23","path":"nginx-zuo-yong","groupDate":"2017"},{"name":"linux nginx配置https笔记","date":"2017-09-23","path":"linux-nginx-pei-zhi-https-bi-ji","groupDate":"2017"},{"name":"React Material-UI笔记-theme篇","date":"2017-09-20","path":"React-Material-UI-bi-ji--theme-pian","groupDate":"2017"},{"name":"js异步之callback简述","date":"2017-07-07","path":"js-yi-bu-zhi-callback-jian-shu","groupDate":"2017"},{"name":"python爬虫初体验","date":"2017-06-03","path":"python-pa-chong-chu-ti-yan","groupDate":"2017"},{"name":"redux-saga简单入门使用","date":"2017-05-08","path":"redux-saga-jian-dan-ru-men-shi-yong","groupDate":"2017"},{"name":"react-native触摸和动画实例","date":"2017-05-06","path":"react-native-chu-mo-he-dong-hua-shi-li","groupDate":"2017"},{"name":"react技术栈学习","date":"2017-02-27","path":"react-ji-shu-zhan-xue-xi","groupDate":"2017"},{"name":"es6 export和import相关","date":"2017-02-26","path":"es6-export-he-import-xiang-guan","groupDate":"2017"},{"name":"canvas交互之addHitRegion()接口的使用","date":"2017-02-16","path":"canvas-jiao-hu-zhi-addHitRegion()-jie-kou-de-shi-yong","groupDate":"2017"}]},{"date":"2015","list":[{"name":"学车随笔","date":"2015-08-21","path":"xue-che-sui-bi","groupDate":"2015"},{"name":"怀念我的部长-刘高","date":"2015-04-10","path":"huai-nian-wo-de-bu-chang---liu-gao","groupDate":"2015"}]}],"datePosts":[{"name":"win10下使用wls2和vscode配置超级舒服的开发环境 ","date":"2020-11-29","path":"win10-xia-shi-yong-wls2-he-vscode-pei-zhi-chao-ji-shu-fu-de-kai-fa-huan-jing"},{"name":"Termux玩法","date":"2020-10-19","path":"Termux-wan-fa"},{"name":"nextjs-with-styled-components-fluent-ui","date":"2020-09-03","path":"nextjs-with-styled-components-fluent-ui"},{"name":"脂肪肝","date":"2020-08-30","path":"zhi-fang-gan"}]},"__N_SSG":true}